**FireAI:  Αυτοματοποιημένο σύστημα εντοπισμού και ειδοποίησης για δασικές πυρκαγιές**

**Υλικά.**
1. Ένα Raspberry Pi 4 Model B Kit (8GB) 
2. Δύο Adafruit Feather M0 LoRa
3. Ένας επιταχυντής Coral TPU.
3. Ένα BME280
4. Δύο breadboards
5. Ένα buzzer
6. Τρία led, κίτρινο, πράσινο, κόκκινο.

**Διαδικασία.**

1. Συνδέουμε το Coral με το Raspberry, αφού πρώτα το εγκαταστήσουμε. Οδηγίες εγκατάστασης θα βρείτε εδώ:
http://projects.raspberrypi.org/en/projects/image-id-coral/1

2. Οργανώνουμε τις φωτογραφίες σε κατηγορίες στο directory Data του Raspberry.

3. Δημιουργούμε το directory models που περιέχει το pre-trained μοντέλο εκπαίδευσης το οποίο κατεβάζουμε από το 
http://projects.raspberrypi.org/en/projects/image-id-coral/
και είναι το αρχείο 
mobilenet_v1_1.0_224_l2norm_quant_edgetpu.tflite

4. Κατεβάζουμε το script train.py από το 
https://raw.githubusercontent.com/raspberrypilearning/image-id-coral/master/en/resources/train.py
Στη συνέχεια κάνουμε τις απαραίτητες αλλαγές στον κώδικα του train.py ώστε να αναγνωρίζει τους δικούς μας υποφακέλους που είναι μέσα στο data.
Στη συνέχεια το τρέχουμε με python3 train.py ώστε να δημιουργηθεί το δικό μας μοντέλο βάσει των δικών μας φωτογραφιών.

5. Γράφουμε το script classify_raspberry_feather.py στο οποίο δίνουμε μια test φωτογραφία, τρέχει το μοντέλο που εκπαιδεύσαμε και την κατατάσσει σε μία από τις κατηγορίες που έχουμε ορίσει.

6. Συνδέουμε το Raspberry με το ένα Adafruit Feather M0 LoRa.
Συνδεσμολογία: 
Το GPIO_pin4 (Raspberry) με το pin 11 (Feather)
Το GPIO_pin17 με το pin 12
Το GPIO_pin22 με το pin 9
Συνδέουμε το Adafruit Feather M0 LoRa (δασικός σταθμός παρατήρησης) με breadboard το οποίο περιέχει το BME280 που είναι αισθητήρας Θερμοκρασίας, Ατμοσφαιρικής Πίεσης και Υγρασίας.
Συνδεσμολογία:
Το SCK (BME280) με το SCL (Feather)
Το SDI με το SDA
Το VIN με το 3V
Το GND με το GND

8. Συνδέουμε το άλλο Adafruit Feather M0 LoRa (κέντρο ελέγχου πυροσβεστικής), το οποίο μπορεί να βρίσκεται ακόμα και σε απόσταση 1 km, με breadboard το οποίο έχει 3 χρωματιστά leds και ένα buzzer.
Συνδεσμολογία:
-Το πράσινο led με το pin 11.
-Το κίτρινο led με το pin 12.
-Το κόκκινο led με το pin 13.
-Το buzzer με το pin 6.

9. Φορτώνουμε το πρωτότυπο πρόγραμμα forestobs_v3.ino στο Feather του δασικού σταθμού και το πρωτότυπο πρόγραμμα base_v3.ino στο Feather του κέντρου ελέγχου της πυροσβεστικής.

10. Αφού εκπαιδεύσουμε το πρόγραμμά μας να αναγνωρίζει φωτογραφίες και να τις κατατάσσει σε μία από τις τρεις κατηγορίες, του δίνουμε μια καινούργια φωτογραφία:
-Αν δείχνει ένα ασφαλές τοπίο (χωρίς καπνό και φωτιά), το Raspberry επικοινωνεί με το Feather και του δίνει τον κωδικό “safe”. Παράλληλα, το Feather διαβάζει τις μετεωρολογικές πληροφορίες και φτιάχνει ένα data package το οποίο στέλνει ασύρματα στο απομακρυσμένο Feather του κέντρου της Πυροσβεστικής. Εκεί ανάβει ένα πράσινο led και ακούγεται χαμηλός ήχος που σημαίνει ότι όλα είναι καλά.
-Αν δείχνει καπνό, το Raspberry επικοινωνεί με το Feather και του δίνει τον κωδικό “warning”. Παράλληλα, το Feather διαβάζει τις μετεωρολογικές πληροφορίες και φτιάχνει ένα data package το οποίο στέλνει ασύρματα στο απομακρυσμένο Feather του κέντρου της Πυροσβεστικής. Εκεί ανάβει ένα κίτρινο led και ακούγεται μέτριος ήχος που σημαίνει ότι όλα ότι υπάρχει κίνδυνος.
-Αν δείχνει φωτιά, το Raspberry επικοινωνεί με το Feather και του δίνει τον κωδικό “sos”. Παράλληλα, το Feather διαβάζει τις μετεωρολογικές πληροφορίες και φτιάχνει ένα data package το οποίο στέλνει ασύρματα στο απομακρυσμένο Feather του κέντρου της Πυροσβεστικής. Εκεί ανάβει ένα κόκκινο led και ακούγεται οξύς ήχος που σημαίνει φωτιά.

**Σημαντικά επιτεύγματα – Προστιθέμενη αξία.**
1. Υλοποιήσαμε ασύρματες επικοινωνίες μέσω FM -χαμηλού κόστους και πολύ αξιόπιστες- με τη βοήθεια του Adafruit Feather M0 LoRa. Παρά το μικρό μέγεθος και τη χαμηλή τιμή, δοκιμάσαμε το σύστημα με απλή καλωδιοκεραία 17 cm και είχαμε τέλεια εκπομπή και λήψη σε απόσταση 1 km. Αναμένουμε ότι με μια κεραία Yagi η εμβέλεια θα είναι ακόμα μεγαλύτερη.
2. Καταφέραμε για πρώτη φορά να επικοινωνήσουν ένα Raspberry με ένα Feather μέσω των I/O θυρών τους. Μέχρι τώρα δεν τα είχαμε συνδυάσει σε κανένα από τα project μας. Έτσι είχαμε ταυτόχρονα όλα τα οφέλη από ένα python-esque και από ένα Arduino-esque σύστημα. 
